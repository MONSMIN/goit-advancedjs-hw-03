{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/main.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.common['x-api-key'] = 'live_387Mr5NSdTViGuSkWsWNpNhx7HXBFt6TTwyYgidC1P2hjqMqtkVYhdbmUqjWvBhp';\n\n\nexport async function fetchBreeds() {\n    return await axios.get('https://api.thecatapi.com/v1/breeds').then(respose => respose.data);\n  };\n\n\nexport async function fetchCatByBreed(breedId) {\n    return await axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`).then(respose => respose.data[0]);\n  };","import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst errorElement = document.querySelector('.error');\n\n\nfunction displayError(message) {\n  iziToast.show({\n    title: 'Error',\n    message: `âŒ ${message}`,\n    position: 'topCenter',\n    color: 'red',\n  });\n  errorElement.textContent = message;\n  errorElement.classList.remove('hidden');\n}\n\n\nfunction toggleHidden(element, isVisible) {\n  element.classList.toggle('hidden', !isVisible);\n}\n\n\nasync function handleBreedSelection(breedId) {\n  if (!breedId) {\n    return;\n  }\n\n  toggleHidden(catInfo, false);\n  toggleHidden(loader, true);\n  toggleHidden(errorElement, false);\n\n  fetchCatByBreed(breedId)\n    .then(displayCatInfo)\n    .catch(displayError)\n    .finally(() => {\n      toggleHidden(loader, false);\n    });\n}\n\nfunction displayCatInfo(catData) {\n    if (catData.breeds && catData.breeds.length > 0) {\n      const { name, description, temperament } = catData.breeds[0];\n      const catImg = catData.url;\n  \n      catInfo.innerHTML = `\n        <img class=\"cat-img\" src=\"${catImg}\" alt=\"${name}\"/>\n        <div class=\"cat-info-text\">\n          <h2>${name}</h2>\n          <p>${description}</p>\n          <p><b>Temperament:</b> ${temperament}</p>\n        </div>\n      `;\n  \n      toggleHidden(catInfo, true);\n    } else {\n      displayError(\"No breed information found.\");\n    }\n  }\n\n\nfunction initializeSelect(data) {\n  toggleHidden(select, true);\n  new SlimSelect({\n    select: select,\n    settings: {\n      placeholderText: 'Search breed',\n    },\n    data: [{ placeholder: true, text: 'Select breed' }, ...data],\n    events: {\n      afterChange: newVal => handleBreedSelection(newVal[0]?.value),\n    },\n  });\n}\n\n\nasync function initializeApp() {\n  toggleHidden(loader, true);\n  try {\n    const breeds = await fetchBreeds();\n    initializeSelect(breeds.map(({ id, name }) => ({ text: name, value: id })));\n  } catch (error) {\n    displayError(error.message);\n  } finally {\n    toggleHidden(loader, false);\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', initializeApp);\n"],"names":["axios","fetchBreeds","respose","fetchCatByBreed","breedId","select","catInfo","loader","errorElement","displayError","message","iziToast","toggleHidden","element","isVisible","handleBreedSelection","displayCatInfo","catData","name","description","temperament","catImg","initializeSelect","data","SlimSelect","newVal","_a","initializeApp","breeds","id","error"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAI,wEAGtC,eAAeC,GAAc,CAChC,OAAO,MAAMD,EAAM,IAAI,qCAAqC,EAAE,KAAKE,GAAWA,EAAQ,IAAI,CAE9F,CAEO,eAAeC,EAAgBC,EAAS,CAC3C,OAAO,MAAMJ,EAAM,IAAI,wDAAwDI,CAAO,EAAE,EAAE,KAAKF,GAAWA,EAAQ,KAAK,CAAC,CAAC,CAC7H,CCPA,MAAMG,EAAS,SAAS,cAAc,eAAe,EAC/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,QAAQ,EAGpD,SAASC,EAAaC,EAAS,CAC7BC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,KAAKD,CAAO,GACrB,SAAU,YACV,MAAO,KACX,CAAG,EACDF,EAAa,YAAcE,EAC3BF,EAAa,UAAU,OAAO,QAAQ,CACxC,CAGA,SAASI,EAAaC,EAASC,EAAW,CACxCD,EAAQ,UAAU,OAAO,SAAU,CAACC,CAAS,CAC/C,CAGA,eAAeC,EAAqBX,EAAS,CACtCA,IAILQ,EAAaN,EAAS,EAAK,EAC3BM,EAAaL,EAAQ,EAAI,EACzBK,EAAaJ,EAAc,EAAK,EAEhCL,EAAgBC,CAAO,EACpB,KAAKY,CAAc,EACnB,MAAMP,CAAY,EAClB,QAAQ,IAAM,CACbG,EAAaL,EAAQ,EAAK,CAChC,CAAK,EACL,CAEA,SAASS,EAAeC,EAAS,CAC7B,GAAIA,EAAQ,QAAUA,EAAQ,OAAO,OAAS,EAAG,CAC/C,KAAM,CAAE,KAAAC,EAAM,YAAAC,EAAa,YAAAC,CAAa,EAAGH,EAAQ,OAAO,CAAC,EACrDI,EAASJ,EAAQ,IAEvBX,EAAQ,UAAY;AAAA,oCACUe,CAAM,UAAUH,CAAI;AAAA;AAAA,gBAExCA,CAAI;AAAA,eACLC,CAAW;AAAA,mCACSC,CAAW;AAAA;AAAA,QAIxCR,EAAaN,EAAS,EAAI,CAChC,MACMG,EAAa,6BAA6B,CAE7C,CAGH,SAASa,EAAiBC,EAAM,CAC9BX,EAAaP,EAAQ,EAAI,EACzB,IAAImB,EAAW,CACb,OAAQnB,EACR,SAAU,CACR,gBAAiB,cAClB,EACD,KAAM,CAAC,CAAE,YAAa,GAAM,KAAM,cAAc,EAAI,GAAGkB,CAAI,EAC3D,OAAQ,CACN,YAAaE,GAAM,OAAI,OAAAV,GAAqBW,EAAAD,EAAO,CAAC,IAAR,YAAAC,EAAW,KAAK,EAC7D,CACL,CAAG,CACH,CAGA,eAAeC,GAAgB,CAC7Bf,EAAaL,EAAQ,EAAI,EACzB,GAAI,CACF,MAAMqB,EAAS,MAAM3B,IACrBqB,EAAiBM,EAAO,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAX,CAAI,KAAQ,CAAE,KAAMA,EAAM,MAAOW,CAAI,EAAC,CAAC,CAC3E,OAAQC,EAAO,CACdrB,EAAaqB,EAAM,OAAO,CAC9B,QAAY,CACRlB,EAAaL,EAAQ,EAAK,CAC3B,CACH,CAEA,SAAS,iBAAiB,mBAAoBoB,CAAa"}